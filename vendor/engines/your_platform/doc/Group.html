<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Group
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (G)</a> &raquo;
    
    
    <span class="title">Group</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Group
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">Group</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">GroupMixins::Import, GroupMixins::SpecialGroups</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">app/models/group.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class represents a user group. Besides users, groups may have
sub-groups as children. One group may have several parent-groups.
Therefore, the relations between groups, users, etc. is stored using the
DAG model, which is implemented by the `is_structureable` method.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Corporation.html" title="Corporation (class)">Corporation</a></span></p>
</div>







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assign_user-instance_method" title="#assign_user (instance method)">- (Object) <strong>assign_user</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This assings the given user as a member to the group, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child_users-instance_method" title="#child_users (instance method)">- (Object) <strong>child_users</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child_workflows-instance_method" title="#child_workflows (instance method)">- (Object) <strong>child_workflows</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#descendant_groups_by_name-instance_method" title="#descendant_groups_by_name (instance method)">- (Object) <strong>descendant_groups_by_name</strong>(descendant_group_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Groups ——————————————————————————————.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#descendant_users-instance_method" title="#descendant_users (instance method)">- (Object) <strong>descendant_users</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>These methods override the standard association methods for
descendant_users and child_users to make sure that the `everyone` Groups do
have <strong>all</strong> users as children and descendants.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#descendant_workflows-instance_method" title="#descendant_workflows (instance method)">- (Object) <strong>descendant_workflows</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>These methods override the standard methods, which are usual ActiveRecord
associations methods created by the acts-as-dag gem  (<a
href="https://github.com/resgraph/acts-as-dag/blob/master/lib/dag/dag.rb">github.com/resgraph/acts-as-dag/blob/master/lib/dag/dag.rb</a>).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#direct_member_titles_string-instance_method" title="#direct_member_titles_string (instance method)">- (Object) <strong>direct_member_titles_string</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This returns a string of the titles of the direct members of this group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#direct_member_titles_string%3D-instance_method" title="#direct_member_titles_string= (instance method)">- (Object) <strong>direct_member_titles_string=</strong>(titles_string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This sets the memberships of a group according to the given string of user
titles.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#membership_of-instance_method" title="#membership_of (instance method)">- (Object) <strong>membership_of</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This returns the UserGroupMembership object that represents the membership
of the  given user in this group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#memberships-instance_method" title="#memberships (instance method)">- (Object) <strong>memberships</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This returns all UserGroupMembership objects of the group, including
indirect  memberships.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#title-instance_method" title="#title (instance method)">- (Object) <strong>title</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The title of the group, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unassign_user-instance_method" title="#unassign_user (instance method)">- (Object) <strong>unassign_user</strong>(user) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method will remove a UserGroupMembership, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upcoming_events-instance_method" title="#upcoming_events (instance method)">- (Object) <strong>upcoming_events</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Events ——————————————————————————————.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="assign_user-instance_method">
  
    - (<tt>Object</tt>) <strong>assign_user</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This assings the given user as a member to the group, i.e. this will create
a UserGroupMembership.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_assign_user'>assign_user</span><span class='lparen'>(</span> <span class='id identifier rubyid_user'>user</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_in?'>in?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_child_users'>child_users</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_child_users'>child_users</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_user'>user</span> <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="child_users-instance_method">
  
    - (<tt>Object</tt>) <strong>child_users</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_child_users'>child_users</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_has_flag?'>has_flag?</span><span class='lparen'>(</span> <span class='symbol'>:everyone</span> <span class='rparen'>)</span>      
    <span class='kw'>return</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="child_workflows-instance_method">
  
    - (<tt>Object</tt>) <strong>child_workflows</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_child_workflows'>child_workflows</span>
 <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_descendant_workflows'>descendant_workflows</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span> <span class='symbol'>:dag_links</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='label'>direct:</span> <span class='kw'>true</span> <span class='rbrace'>}</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="descendant_groups_by_name-instance_method">
  
    - (<tt>Object</tt>) <strong>descendant_groups_by_name</strong>(descendant_group_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Groups</p>
<hr style="height: 10px">


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_descendant_groups_by_name'>descendant_groups_by_name</span><span class='lparen'>(</span> <span class='id identifier rubyid_descendant_group_name'>descendant_group_name</span> <span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_descendant_groups'>descendant_groups</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span> <span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_descendant_group_name'>descendant_group_name</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="descendant_users-instance_method">
  
    - (<tt>Object</tt>) <strong>descendant_users</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>These methods override the standard association methods for
descendant_users and child_users to make sure that the `everyone` Groups do
have <strong>all</strong> users as children and descendants.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_descendant_users'>descendant_users</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_has_flag?'>has_flag?</span><span class='lparen'>(</span> <span class='symbol'>:everyone</span> <span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='kw'>super</span> 
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="descendant_workflows-instance_method">
  
    - (<tt>Object</tt>) <strong>descendant_workflows</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>These methods override the standard methods, which are usual ActiveRecord
associations methods created by the acts-as-dag gem  (<a
href="https://github.com/resgraph/acts-as-dag/blob/master/lib/dag/dag.rb">github.com/resgraph/acts-as-dag/blob/master/lib/dag/dag.rb</a>).
But since the Workflow in the main application inherits from
WorkflowKit::Workflow and single table inheritance and polymorphic 
associations do not always work together as expected in rails, as can be
seen here <a
href="http://stackoverflow.com/questions/9628610/why-polymorphic-association-doesnt-work-for-sti-if-type-column-of-the-polymorph">stackoverflow.com/questions/9628610/why-polymorphic-association-doesnt-work-for-sti-if-type-column-of-the-polymorph</a>,
we have to override these methods.</p>

<p>ActiveRecord associations require &#39;WorkflowKit::Workflow&#39; to be
stored in the database&#39;s type column, but by asking for the
`child_workflows` we want to get òbjects of the `Workflow` type, not
`WorkflowKit::Workflow`, since Workflow objects may have additional
methods, added by the main application.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_descendant_workflows'>descendant_workflows</span>
  <span class='const'>Workflow</span><span class='period'>
</span><span class='id identifier rubyid_    .joins'>    .joins</span><span class='lparen'>(</span> <span class='symbol'>:links_as_descendant</span> <span class='rparen'>)</span><span class='period'>
</span><span class='id identifier rubyid_    .where'>    .where</span><span class='lparen'>(</span> <span class='symbol'>:dag_links</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:ancestor_type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Group</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:ancestor_id</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span> <span class='rparen'>)</span><span class='period'>
</span><span class='id identifier rubyid_    .uniq'>    .uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="direct_member_titles_string-instance_method">
  
    - (<tt>Object</tt>) <strong>direct_member_titles_string</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This returns a string of the titles of the direct members of this group.
This is used for in-place editing, for example.</p>

<p>The string would be something like this:</p>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user1'>user1</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user2'>user2</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_content'>, ...</span><span class='tstring_end'>&quot;</span></span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_direct_member_titles_string'>direct_member_titles_string</span>
  <span class='id identifier rubyid_child_users'>child_users</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="direct_member_titles_string=-instance_method">
  
    - (<tt>Object</tt>) <strong>direct_member_titles_string=</strong>(titles_string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This sets the memberships of a group according to the given string of user
titles.</p>

<p>For example, after calling</p>

<pre class="code ruby"><code class="ruby">direct_member_titles_string = &quot;#{user1.title}, #{user2.title}&quot;,</code></pre>

<p>the users `user1` and `user2` are the only direct members of the group. The
memberships are removed using the standard methods, which means that the
memberships are only marked as deleted. See: acts_as_paranoid_dag gem.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179
180
181
182
183
184
185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 177</span>

<span class='kw'>def</span> <span class='id identifier rubyid_direct_member_titles_string='>direct_member_titles_string=</span><span class='lparen'>(</span> <span class='id identifier rubyid_titles_string'>titles_string</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_new_members_titles'>new_members_titles</span> <span class='op'>=</span> <span class='id identifier rubyid_titles_string'>titles_string</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_new_members'>new_members</span> <span class='op'>=</span> <span class='id identifier rubyid_new_members_titles'>new_members_titles</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_title'>title</span><span class='op'>|</span>
    <span class='id identifier rubyid_u'>u</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_find_by_title'>find_by_title</span><span class='lparen'>(</span> <span class='id identifier rubyid_title'>title</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span> <span class='symbol'>:direct_member_titles_string</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>user not found: #{title}</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_u'>u</span>
    <span class='id identifier rubyid_u'>u</span>
  <span class='kw'>end</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_member'>member</span> <span class='kw'>in</span> <span class='id identifier rubyid_child_users'>child_users</span>
    <span class='id identifier rubyid_unassign_user'>unassign_user</span> <span class='id identifier rubyid_member'>member</span> <span class='kw'>unless</span> <span class='id identifier rubyid_member'>member</span><span class='period'>.</span><span class='id identifier rubyid_in?'>in?</span> <span class='id identifier rubyid_new_members'>new_members</span> <span class='kw'>if</span> <span class='id identifier rubyid_member'>member</span>
  <span class='kw'>end</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_new_member'>new_member</span> <span class='kw'>in</span> <span class='id identifier rubyid_new_members'>new_members</span>
    <span class='id identifier rubyid_assign_user'>assign_user</span> <span class='id identifier rubyid_new_member'>new_member</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_member'>new_member</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="membership_of-instance_method">
  
    - (<tt>Object</tt>) <strong>membership_of</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This returns the UserGroupMembership object that represents the membership
of the  given user in this group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_membership_of'>membership_of</span><span class='lparen'>(</span> <span class='id identifier rubyid_user'>user</span> <span class='rparen'>)</span>
  <span class='const'>UserGroupMembership</span><span class='period'>.</span><span class='id identifier rubyid_find_by_user_and_group'>find_by_user_and_group</span><span class='lparen'>(</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='kw'>self</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="memberships-instance_method">
  
    - (<tt>Object</tt>) <strong>memberships</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This returns all UserGroupMembership objects of the group, including
indirect  memberships.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 145</span>

<span class='kw'>def</span> <span class='id identifier rubyid_memberships'>memberships</span>
  <span class='const'>UserGroupMembership</span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_group'>find_all_by_group</span> <span class='kw'>self</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="title-instance_method">
  
    - (<tt>Object</tt>) <strong>title</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The title of the group, i.e. a kind of caption, e.g. used in the
&lt;title&gt; tag of the webpage. By default, this returns just the name of
the group. But this may be changed in the main application.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_title'>title</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unassign_user-instance_method">
  
    - (<tt>Object</tt>) <strong>unassign_user</strong>(user) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method will remove a UserGroupMembership, i.e. terminate the
membership of the given user in this group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unassign_user'>unassign_user</span><span class='lparen'>(</span> <span class='id identifier rubyid_user'>user</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='const'>DagLink</span><span class='period'>.</span><span class='id identifier rubyid_find_edge'>find_edge</span><span class='lparen'>(</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_becomes'>becomes</span><span class='lparen'>(</span> <span class='const'>Group</span> <span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_link'>link</span>
    <span class='id identifier rubyid_link'>link</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span> <span class='kw'>if</span> <span class='id identifier rubyid_link'>link</span><span class='period'>.</span><span class='id identifier rubyid_destroyable?'>destroyable?</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The user to unassign is not member of the group.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upcoming_events-instance_method">
  
    - (<tt>Object</tt>) <strong>upcoming_events</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Events</p>
<hr style="height: 10px">


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/group.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_upcoming_events'>upcoming_events</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_upcoming'>upcoming</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Apr 10 21:17:55 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>
